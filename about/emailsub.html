
 <h1>Subscribe to the Weekly Digest</h1>
 Subscribe to MichaelCrump.net
 <form>
 <div id="contactForm">
     Your Email: <input type="text" name="fromEmail" /><br />
     <input type="submit" value="Send!" />
 </div>
</form>
  
 <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
 <script type="text/javascript">
      var url = "https://functionsendemails.azurewebsites.net/api/StoreEmail?code=hKngrr6sq35GJ8cb6al4K6oP0cRphKNDMXpLrCtoNCJzM0ZDwJNkJQ==";
     $("form").on('submit', function (event) {
         event.preventDefault();
  
         // grab contact form data
         var data = $(this).serialize();
  
         // hide prior errors, disable inputs while we're submitting
         $("#contactFormError").hide();
         $("#contactForm input").prop('disabled', true);
  
         // back in my day, we had to AJAX uphill both ways, in the snow, through cross-iframe scripts
         $.ajax({
             type: "POST",
             url: url,
             data: data,
             dataType: "text",
             headers: {'Content-Type': 'application/x-www-form-urlencoded'},
             success: function (respData) {
                 // Yay, success!!
                 $("#contactForm").html("<div style='padding: 5em 1em; text-align: center; color: #008800'>" + respData + "</div>");
             },
             error: function (jqXHR) {
                 // Boo, error...
                 $("#contactFormError").html("<div style='padding: 1em; text-align: center; color: #660000'>Sorry, an error occurred: " + jqXHR.responseText + "</div>");
                 $("#contactFormError").show();
                 $("#contactForm input").prop('disabled', false);
             }
         });
     });
 </script>
 
   
  