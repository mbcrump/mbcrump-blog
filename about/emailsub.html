
 <h1>Subscribe to the Weekly Digest</h1>
 Subscribe to MichaelCrump.net
 <form id="target">
 <div id="contactForm">
     Your Email: <input type="text" name="fromEmail" /><br />
     <input type="submit" value="Send!" />
 </div>
</form>

<div id="contactFormStatus">
   
</div>
  
 <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
 <script type="text/javascript">
      var url = "https://functionsendemails.azurewebsites.net/api/StoreEmail?code=hKngrr6sq35GJ8cb6al4K6oP0cRphKNDMXpLrCtoNCJzM0ZDwJNkJQ==";
     $("form").on('submit', function (event) {
         event.preventDefault();
  
         var data = $(this).serialize();

         $("#contactFormStatus").hide();
         $("#target :input").prop("disabled", true);

         $.ajax({
             type: "POST",
             url: url,
             data: data,
             dataType: "text",
             headers: {'Content-Type': 'application/x-www-form-urlencoded'},
             success: function (respData) {
                 $("#contactFormStatus").html("<div style='padding: 5em 1em; text-align: center; color: #001088'>" + respData + "</div>");
             },
             error: function (jqXHR) {
                 $("#contactFormStatus").html("<div style='padding: 1em; text-align: center; color: #d20808'>An error occurred: " + jqXHR.responseText + "</div>");
                 $("#contactFormStatus").show();
                 $("#target :input").prop("disabled", true);
             }
         });
     });
 </script>
 
   
  